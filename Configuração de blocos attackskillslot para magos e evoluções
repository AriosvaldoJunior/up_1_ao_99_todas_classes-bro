automacro criandoblocos {
	BaseLevel > 0
	JobID 2, 9 ,16
	exclusive 1
	run-once 1
	call {
			if (&config(attackSkillSlot_1_sp) > 0) { #significa que ja existe a configuração
				log skills de mago configuradas
			} else {
				log configurando skills
				configurarSkills()
				pause 2
				do reload config
			}
		}
	}
	
automacro configurandoblocos {
	ConfigKeyNot Classe none #nunca sei se isso funciona por favor confirmem
	run-once 1
	exclusive 1
	call {
		switch(&config(Classe)) {
		
		#classe1
			case(Espadachim) {
			}
			case(Mago) {
			#Mapas de base -> ein_fild09 | pay_fild02 | mjolnir_11 | mjolnir_01 | mjolnir_02 | cmd_fild01
			do conf attackSkillSlot_0 Lanças de Fogo #Monstros de Terra/Sem dano elemental
				do conf attackSkillSlot_0_monsters Jiboía, Rabo de Verme, Caramelo, Pé Grande, Creamy, Percevejo, Poporing, Besouro-Chifre, Yoyo, Grove, Flora, Argiope, Argos, Porcellio, Metaling
				do conf attackSkillSlot_0_sp > 50
				do conf attackSkillSlot_0_WhenStatusInactive EFST_POSTDELAY
			do conf attackSkillSlot_1 Lanças de Gelo #Monstros de Fogo
				do conf attackSkillSlot_1_monsters Salgueiro Ancião 
				do conf attackSkillSlot_1_sp > 50
				do conf attackSkillSlot_1_WhenStatusInactive EFST_POSTDELAY
			do conf attackSkillSlot_2 Relampago #Monstros de Agua
				do conf attackSkillSlot_2_monsters Esporo 
				do conf attackSkillSlot_2_sp > 50
				do conf attackSkillSlot_2_WhenStatusInactive EFST_POSTDELAY
			}
			case(Noviço) {
			}
			case(Arqueiro) {
			}
			case(Mercador) {
			}
			case(gatuno) {
			}
		}
	}
}	
		
	
##################################	
#SUB Criar Blocos attackSkillSlot#
##################################
#Somente Fogo|Agua|Vento
sub cofigurarskills {
	open (my $fh, '>>:encoding(UTF-8)', Settings::getControlFilename('config.txt'));
	#FOGO
	print $fh "attackSkillSlot {\n";
	print $fh "	monsters \n";  
	print $fh "	sp \n";
	print $fh "	whenStatusInactive \n";
	print $fh "}\n";
	#AGUA
	print $fh "attackSkillSlot {\n";
	print $fh "	monsters \n";
	print $fh "	sp \n";
	print $fh "	whenStatusInactive \n";
	print $fh "}\n";
	#VENTO
	print $fh "attackSkillSlot {\n";
	print $fh "	monsters \n";
	print $fh "	sp \n";
	print $fh "	whenStatusInactive \n";
	print $fh "}\n";
	close($fh);
	# Commands::run("reload config"); desabilitado
}
